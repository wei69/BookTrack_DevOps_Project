function cov_1mz410cvqh(){var path="C:\\Users\\wei long\\Documents\\devoppart2\\BookTrack_DevOps_Project\\utils\\get-book-util.js";var hash="8fa23ac8ccdef47cb1f41a79b98f0127df697d84";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\wei long\\Documents\\devoppart2\\BookTrack_DevOps_Project\\utils\\get-book-util.js",statementMap:{"0":{start:{line:1,column:13},end:{line:1,column:41}},"1":{start:{line:2,column:17},end:{line:2,column:36}},"2":{start:{line:6,column:4},end:{line:20,column:5}},"3":{start:{line:7,column:22},end:{line:7,column:39}},"4":{start:{line:10,column:8},end:{line:12,column:9}},"5":{start:{line:11,column:12},end:{line:11,column:71}},"6":{start:{line:14,column:8},end:{line:14,column:36}},"7":{start:{line:16,column:8},end:{line:16,column:54}},"8":{start:{line:19,column:8},end:{line:19,column:101}},"9":{start:{line:29,column:0},end:{line:29,column:29}}},fnMap:{"0":{name:"getBooks",decl:{start:{line:5,column:15},end:{line:5,column:23}},loc:{start:{line:5,column:34},end:{line:21,column:1}},line:5}},branchMap:{"0":{loc:{start:{line:10,column:8},end:{line:12,column:9}},type:"if",locations:[{start:{line:10,column:8},end:{line:12,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:10}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},f:{"0":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8fa23ac8ccdef47cb1f41a79b98f0127df697d84"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1mz410cvqh=function(){return actualCoverage;};}return actualCoverage;}cov_1mz410cvqh();const Book=(cov_1mz410cvqh().s[0]++,require('../models/book.js'));const mongoose=(cov_1mz410cvqh().s[1]++,require('mongoose'));// Import mongoose to validate object IDs
// Define an asynchronous function to handle getting books
async function getBooks(req,res){cov_1mz410cvqh().f[0]++;cov_1mz410cvqh().s[2]++;try{const books=(cov_1mz410cvqh().s[3]++,await Book.find());// Fetch all books from the Book model
// Check if no books are found and return a 404 status with a message
cov_1mz410cvqh().s[4]++;if(books.length===0){cov_1mz410cvqh().b[0][0]++;cov_1mz410cvqh().s[5]++;return res.status(404).json({message:'No books found'});}else{cov_1mz410cvqh().b[0][1]++;}cov_1mz410cvqh().s[6]++;res.status(200).json(books);// Send the books as a JSON response with 200 status
}catch(error){cov_1mz410cvqh().s[7]++;console.error('Error fetching books:',error);// Improved error response with status 500 and error message
cov_1mz410cvqh().s[8]++;res.status(500).json({message:'Server error while fetching books',error:error.message});}}// Export the function to make it available for use in your routes
// Export the searchBooks function to make it available in other parts of the application
// Export the getBooks function to make it available in other parts of the application
cov_1mz410cvqh().s[9]++;module.exports={getBooks};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMW16NDEwY3ZxaCIsImFjdHVhbENvdmVyYWdlIiwiQm9vayIsInMiLCJyZXF1aXJlIiwibW9uZ29vc2UiLCJnZXRCb29rcyIsInJlcSIsInJlcyIsImYiLCJib29rcyIsImZpbmQiLCJsZW5ndGgiLCJiIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJlcnJvciIsImNvbnNvbGUiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiZ2V0LWJvb2stdXRpbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBCb29rID0gcmVxdWlyZSgnLi4vbW9kZWxzL2Jvb2suanMnKTtcclxuY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpOyAvLyBJbXBvcnQgbW9uZ29vc2UgdG8gdmFsaWRhdGUgb2JqZWN0IElEc1xyXG5cclxuLy8gRGVmaW5lIGFuIGFzeW5jaHJvbm91cyBmdW5jdGlvbiB0byBoYW5kbGUgZ2V0dGluZyBib29rc1xyXG5hc3luYyBmdW5jdGlvbiBnZXRCb29rcyhyZXEsIHJlcykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBib29rcyA9IGF3YWl0IEJvb2suZmluZCgpOyAvLyBGZXRjaCBhbGwgYm9va3MgZnJvbSB0aGUgQm9vayBtb2RlbFxyXG5cclxuICAgICAgICAvLyBDaGVjayBpZiBubyBib29rcyBhcmUgZm91bmQgYW5kIHJldHVybiBhIDQwNCBzdGF0dXMgd2l0aCBhIG1lc3NhZ2VcclxuICAgICAgICBpZiAoYm9va3MubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6ICdObyBib29rcyBmb3VuZCcgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihib29rcyk7IC8vIFNlbmQgdGhlIGJvb2tzIGFzIGEgSlNPTiByZXNwb25zZSB3aXRoIDIwMCBzdGF0dXNcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgYm9va3M6JywgZXJyb3IpO1xyXG5cclxuICAgICAgICAvLyBJbXByb3ZlZCBlcnJvciByZXNwb25zZSB3aXRoIHN0YXR1cyA1MDAgYW5kIGVycm9yIG1lc3NhZ2VcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdTZXJ2ZXIgZXJyb3Igd2hpbGUgZmV0Y2hpbmcgYm9va3MnLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9KTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcblxyXG4vLyBFeHBvcnQgdGhlIGZ1bmN0aW9uIHRvIG1ha2UgaXQgYXZhaWxhYmxlIGZvciB1c2UgaW4geW91ciByb3V0ZXNcclxuXHJcbi8vIEV4cG9ydCB0aGUgc2VhcmNoQm9va3MgZnVuY3Rpb24gdG8gbWFrZSBpdCBhdmFpbGFibGUgaW4gb3RoZXIgcGFydHMgb2YgdGhlIGFwcGxpY2F0aW9uXHJcbi8vIEV4cG9ydCB0aGUgZ2V0Qm9va3MgZnVuY3Rpb24gdG8gbWFrZSBpdCBhdmFpbGFibGUgaW4gb3RoZXIgcGFydHMgb2YgdGhlIGFwcGxpY2F0aW9uXHJcbm1vZHVsZS5leHBvcnRzID0geyBnZXRCb29rc307XHJcbiJdLCJtYXBwaW5ncyI6InduREFlWTtBQUFBQSxjQUFBLFNBQUFBLENBQUEsU0FBQUMsY0FBQSxXQUFBQSxjQUFBLEVBQUFELGNBQUEsR0FmWixLQUFNLENBQUFFLElBQUksRUFBQUYsY0FBQSxHQUFBRyxDQUFBLE1BQUdDLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxFQUN6QyxLQUFNLENBQUFDLFFBQVEsRUFBQUwsY0FBQSxHQUFBRyxDQUFBLE1BQUdDLE9BQU8sQ0FBQyxVQUFVLENBQUMsRUFBRTtBQUV0QztBQUNBLGNBQWUsQ0FBQUUsUUFBUUEsQ0FBQ0MsR0FBRyxDQUFFQyxHQUFHLENBQUUsQ0FBQVIsY0FBQSxHQUFBUyxDQUFBLE1BQUFULGNBQUEsR0FBQUcsQ0FBQSxNQUM5QixHQUFJLENBQ0EsS0FBTSxDQUFBTyxLQUFLLEVBQUFWLGNBQUEsR0FBQUcsQ0FBQSxNQUFHLEtBQU0sQ0FBQUQsSUFBSSxDQUFDUyxJQUFJLENBQUMsQ0FBQyxFQUFFO0FBRWpDO0FBQUFYLGNBQUEsR0FBQUcsQ0FBQSxNQUNBLEdBQUlPLEtBQUssQ0FBQ0UsTUFBTSxHQUFLLENBQUMsQ0FBRSxDQUFBWixjQUFBLEdBQUFhLENBQUEsU0FBQWIsY0FBQSxHQUFBRyxDQUFBLE1BQ3BCLE1BQU8sQ0FBQUssR0FBRyxDQUFDTSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQyxDQUFFQyxPQUFPLENBQUUsZ0JBQWlCLENBQUMsQ0FBQyxDQUM5RCxDQUFDLEtBQUFoQixjQUFBLEdBQUFhLENBQUEsVUFBQWIsY0FBQSxHQUFBRyxDQUFBLE1BRURLLEdBQUcsQ0FBQ00sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUNMLEtBQUssQ0FBQyxDQUFFO0FBQ2pDLENBQUUsTUFBT08sS0FBSyxDQUFFLENBQUFqQixjQUFBLEdBQUFHLENBQUEsTUFDWmUsT0FBTyxDQUFDRCxLQUFLLENBQUMsdUJBQXVCLENBQUVBLEtBQUssQ0FBQyxDQUU3QztBQUFBakIsY0FBQSxHQUFBRyxDQUFBLE1BQ0FLLEdBQUcsQ0FBQ00sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUMsQ0FBRUMsT0FBTyxDQUFFLG1DQUFtQyxDQUFFQyxLQUFLLENBQUVBLEtBQUssQ0FBQ0QsT0FBUSxDQUFDLENBQUMsQ0FDaEcsQ0FDSixDQUlBO0FBRUE7QUFDQTtBQUFBaEIsY0FBQSxHQUFBRyxDQUFBLE1BQ0FnQixNQUFNLENBQUNDLE9BQU8sQ0FBRyxDQUFFZCxRQUFRLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=